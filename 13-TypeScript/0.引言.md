# Typescript

## 安装与编译
```
npm i -D typescript    // 局部安装 typescript
npx tsc helloworld.ts  // 执行 tsc 命令，编译 ts 文件
```

## 类型检查的 2 种方式
- 类型注释：事先注释好我们期待的类型。
```typescript
let isDone: boolean = false;
```
- 自动类型推断，TypeScript 会在没有明确的指定类型的时候推测出一个类型。
```typescript
let val = '123';
var length = (<string>val).length;
var length = (val as string).length;
```

## 类型断言
手动指定一个值的类型
```
<类型>值 或者 值 as 类型
```

### 例如：将一个联合类型的变量指定为一个更加具体的类型
有时候，我们确实需要在还不确定类型的时候就访问其中一个类型的属性或方法，比如：
```js
function getLength(something: string | number): number {
  if (something.length) {
    return something.length;  // 获取 something.length 的时候会报错
  } else {
    return something.toString().length;
  }
}
// index.ts(2,19): error TS2339: Property 'length' does not exist on type 'string | number'.
//   Property 'length' does not exist on type 'number'.
// index.ts(3,26): error TS2339: Property 'length' does not exist on type 'string | number'.
//   Property 'length' does not exist on type 'number'.
```
```typescript
function getLength(something: string | number): number {
  if ((<string>something).length) {
    return (<string>something).length;
  } else {
    return something.toString().length;
  }
}
// 或
function getLength(something: string | number): number {
  if ((something as string).length) {
    return (something as string).length;
  } else {
    return something.toString().length;
  }
}
```

类型断言不是类型转换，断言成一个联合类型中不存在的类型是不允许的：
```typescript
function toBoolean(something: string | number): boolean {
  return <boolean>something;
}
// index.ts(2,10): error TS2352: Type 'string | number' cannot be converted to type 'boolean'.
//   Type 'number' is not comparable to type 'boolean'.
```



## 参考文档
- [TypeScript入门教程](https://ts.xcatliu.com/)
