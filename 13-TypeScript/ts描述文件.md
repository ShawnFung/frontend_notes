# TypeScript 描述文件 d.ts

## 描述一个模块
```ts
// math.d.ts
declare module "math" {
  export function add(a: number, b: number): number;
  export function subtract(a: number, b: number): number;
  export function multiply(a: number, b: number): number;
  export function divide(a: number, b: number): number;
}

// const app = createApp(App);
// app.config.globalProperties.useDict = useDict;
// app.config.globalProperties.$modal = modal;

// 声明 vue 下面挂载的全局方法
import modal from '@/plugins/modal';
import { useDict } from '@/utils/dict';
declare module 'vue' {
  export interface ComponentCustomProperties {
    // 全局方法声明
    $modal: typeof modal;
    useDict: typeof useDict;
  }
}

// for vue template auto import
import { UnwrapRef } from 'vue'
declare module 'vue' {
  interface ComponentCustomProperties {
    readonly ElForm: UnwrapRef<typeof import('element-plus/es')['ElForm']>
    readonly ElLoading: UnwrapRef<typeof import('element-plus/es')['ElLoading']>
    readonly ElMessage: UnwrapRef<typeof import('element-plus/es')['ElMessage']>
  }
}

// 导入一个模块插件, 改变原有模块结构, 原有模块已有声明文件, 导入的模块插件没有声明文件
// types/moment-plugin/index.d.ts
import * as moment from 'moment'; // 原有模块
declare module 'moment' {
  export function foo(): moment.CalendarKey;
}
```

## 描述全局变量
```ts
declare var aaa:number|string //注意这里用的是一个竖线表示"或"的意思
declare function getName(id:number|string):string
declare class Animal {
  name: string;
  constructor(name: string);
  sayHi(): string;
}

// Generated by 'unplugin-auto-import'
declare global {
  const ElForm: typeof import('element-plus/es')['ElForm']
  const ElMessage: typeof import('element-plus/es')['ElMessage']
  const ElMessageBox: typeof import('element-plus/es')['ElMessageBox']
}
```

## 其他
```ts
declare module '*.vue' {
  import { DefineComponent } from 'vue';
  const component: DefineComponent<{}, {}, any>;
  export default component;
}
declare module '*.jpg' {
  const src: string;
  export default src;
}
declare module '*.module.css' {
  const classes: { readonly [key: string]: string };
  export default classes;
}
```