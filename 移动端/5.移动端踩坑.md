# 移动端踩坑

## 参考文档
1. [Web移动端Fixed布局的解决方案](http://efe.baidu.com/blog/mobile-fixed-layout/)
2. [移动端踩坑之旅-ios下fixed、软键盘相关问题总结](https://blog.csdn.net/gg464556/article/details/77949185)

## IOS
### 1.软键盘唤起后，页面的 fixed 元素将失效.
软键盘唤起后，页面的 fixed 元素将失效（ios认为用户更希望的是元素随着滚动而移动，也就是变成了 absolute 定位），既然变成了absolute，所以当页面超过一屏且滚动时，失效的 fixed 元素就会跟随滚动了。  
不仅限于 type=text 的输入框，凡是软键盘（比如时间日期选择、select 选择等等）被唤起，都会遇到同样地问题。
#### 解决方案一
假如页面不会过长出现滚动，那么即便 fixed 元素失效，也无法跟随页面滚动，也就不会出现上面的问题了。  
如果使 fixed 元素的父级不出现滚动，而将原 body 滚动的区域域移到 main 内部。

### 2.软键盘唤起问题，只有用户主动的操作才会允许唤起键盘
解决方案：覆盖一个透明的 input 框。

## Android

## IOS和Android都会碰到的问题
### 输入框 focus 以后，会出现软键盘遮挡输入框的情况。
可以尝试 input 元素的 scrollIntoView 进行修复。

### 在页面滚动到上下边缘的时候，如果继续拖拽会将整个 View 一起拖拽走，导致页面的"露底"。
![露底](../images/mobile/scroll_top.png)  
为了防止页面露底，可以在页面拖拽到边缘的时候，通过判断拖拽方向以及是否为边缘来阻止 touchmove 事件，防止页面继续拖拽。

### 滚动不流畅
```
-webkit-overflow-scrolling: touch;
```
