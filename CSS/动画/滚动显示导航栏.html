<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>WOW.js演示_dowebok</title>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<style>
* { margin: 0; padding: 0;}
body { overflow-x: hidden; font-family: "Microsoft Yahei";}
.nav-bar{
	position: relative;
	height: 40px;
	line-height: 40px;
	background-color: #fff;
    border-bottom: 1px solid #e8eaed;
    box-sizing: border-box;
    z-index: 100;
	text-align: center;
}
.nav-bar.fixed-nav {
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 2000;
}
.content{
	width: 100%;
	height: 3000px;
	background: #343434;
	padding-top: 40px;
}
</style>
</head>

<body>
	<div class="nav-bar">导航栏</div>
	<div class="content"></div>
	<script>
		function hasClass( elements,cName ){ 
			return !!elements.className.match( new RegExp( "(\\s|^)" + cName + "(\\s|$)") ); 
		};
		
		function addClass( elements,cName ){ 
			if( !hasClass( elements,cName ) ){ 
				elements.className += " " + cName; 
			}; 
		};
		function removeClass(obj,cls) {  
			if (hasClass(obj,cls)) {  
				var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)');  
				obj.className = obj.className.replace(reg, ' ');  
			}  
		};  
		var prevScrollTop = 0;
		window.addEventListener('scroll', function(){
			var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
			var navBar = $('.nav-bar');
			if (scrollTop <= 40){
				navBar.css({
					top: '0px',
					transition: 'top 0s ease 0s'
				})
				navBar.removeClass('fixed-nav')
				return;
			} else {
				navBar.addClass('fixed-nav');
			}
			// 显示
			if(scrollTop - prevScrollTop < 0){
				navBar.css({
					top: '0px',
					transition: 'top 400ms ease 0s, opacity 200ms ease 0s'
				})
			} 
			// 隐藏
			else {
				navBar.css({
					top: '-40px'
				})
			}
			prevScrollTop = scrollTop;
			
		});
	</script>
</body>
</html>