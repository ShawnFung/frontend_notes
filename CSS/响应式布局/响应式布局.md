# 基础

## 参考文档
- [移动端网页绝对自适应方案总结](https://newbieweb.lione.me/2017/07/31/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E7%BD%91%E9%A1%B5%E7%BB%9D%E5%AF%B9%E8%87%AA%E9%80%82%E5%BA%94%E6%96%B9%E6%A1%88%E6%80%BB%E7%BB%93/)

## 什么是响应式布局？
响应式布局就是一个网站能够兼容多个终端——而不是为每个终端做一个特定的版本。

## 视口
移动端最小宽度是 320px，宽度小于 320px 的设备基本不用考虑。
```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
```

## 媒体查询
语法：
```
@media mediatype and|not|only (media feature) { ... }
例如：
@media screen and (min-width:900px) and (max-width:1200px)
在媒体查询中，最好使用px这个绝对单位，当使用 rem 为单位时，是相对于浏览器默认的font-size计算的，因为媒体查询在样式优先级是最高的。
@media screen and (min-width: 50rem)
```
媒体类型
- all
- screen 用于电脑屏幕，平板电脑，智能手机等。
- print 用于打印机和打印预览
- speech 应用于屏幕阅读器等发声设备

媒体属性  
对以下属性都可以添加 min- 或 max- 前缀。
- width 视口宽度
- height
- device-width 设备屏幕宽度
- device-height 

## 百分比
- padding百分比是相对于参照元素的宽度而言；
- margin百分比是相对于参照元素的宽度而言；
- width百分比是相对于参照元素的宽度而言；
- left、right百分比是相对于参照元素的宽度而言；
- height百分比是相对于参照元素的高度而言；
- top、bottom百分比是相对于参照元素的高度而言；
- line-height百分比是相当于元素自身文字大小而言；
- background-size百分比是相当于元素自身的宽高而言；
- border-radius百分比是相当于元素自身的宽高而言；
- transform百分比是相当于元素自身的宽高而言；
- background-position百分比和其它的百分比单位表现都不一样，具体可以用以下公式计算：
```
    positionX = (容器的宽度-图片的宽度) * percentX;
    positionY = (容器的高度-图片的高度) * percentY;
```

## css reset vs Normalize.css
Normalize.css保留不同浏览器同标签相同的默认值，只重置不同默认样式的差异，可以说css reset的高级版。

## 使用rem进行适配
- 将1rem设置为 10px
```
// html 默认 font-size 为 16px，为了将 1rem 设置为 10px，故将 font-size 设置为 62.5%;
html{
    font-size: 62.5%; // 1rem=10px
}
```
- 设置屏幕宽度=10rem，[flexible.js](https://github.com/amfe/lib-flexible)  

REM方式理论上来说已经能解决问题了，但是实际上还是会有一些问题，最核心的问题在于数值的精度问题（不同浏览器处理浮点数时所保留的精度不一样），比如：
1. 较小数值可能会因为精度问题导致实际渲染大小为0，比如边框等；
2. 在Android系统里边有可能出现即使设置了height=line-height时文字依然不能完全垂直居中的情况，如果使用REM，font-size、height、line-height均是小数，精度问题会导致问题更明显。

## viewport单位：vm、vh
- 参考文档：[如何在Vue项目中使用vw实现移动端适配](https://www.w3cplus.com/mobile/vw-layout-in-vue.html)
- 在一些Android设备中软键盘弹出会影响视口的尺寸（具体是高度变小），因此会对以百分比或者vw、vh为单位的属性造成影响；而且并不能通过强制设置视口尺寸来解决这个问题，因为在一些Android设备中会对脚本代码设置的视口尺寸再进行一次校验来保证视口尺寸比例不发生变化，具体情况请查看[示例](https://newbieyoung.github.io/SomeBugs/bug-about-vh-vw-in-android/demo0.html)。


## css
```
/* 设置选中文字的样式 */
::selection{
    background-color: #b3d4fc;
}

/* 清除浮动 */
.clearfix:after{
    content: "";
    display: block;
    height: 0;
    clear: both;
    visibility: hidden;
}
.clearfix:after{
    content: "";
    display: table;
    clear: both;
}

li + li{
    border-left: 1px solid #e5e5e5;
}
```

BFC与浮动的关系: 只要触发了BFC，就会清除浮动。  
如何触发BFC？
- float
- overflow
- display: table-cell 或 table-caption 或 inline-block
- position: fixed 或 absolute

## inline-block 之间的间隙
- 删除 html 标签之间的换行
- 负边距 margin-left: -3px;
- 设置父元素的 font-size: 0;

## 雪碧图

## 表格常见的响应式处理方式
- 隐藏不重要的列。
- 固定首列，剩余列横向滚动。
- 行列倒置，譬如说，本来有10列，那么在小屏幕，就可以将其中2列变成行的形式显示，其余8列仍然以列的形式显示。
- 将表格转换成表单来显示。 

参考文档：  
- [响应式web中的表格处理](https://www.w3cways.com/1783.html)

## 注意
- 宽度需要使用百分比。padding、margin 可以使用像素、rem、百分比等。
```
.content { width: 50%; }
```

- 如何确定媒体查询的断点？  
根据设计稿和产品的要求，一般会将不同的宽度作为断点，例如使用 800px 区分大屏和中等屏幕，使用 480px 区分中等屏幕和手机等小屏幕。
