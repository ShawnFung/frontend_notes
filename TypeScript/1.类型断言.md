# 类型断言

## 参考文档
- [TypeScript 类型断言](https://www.jianshu.com/p/4bd337c2115c)

## 概念
类型断言（Type Assertion）可以用来手动指定一个值的类型。
```
<类型>值 或者 值 as 类型
```

## 例子：将一个联合类型的变量指定为一个更加具体的类型
有时候，我们确实需要在还不确定类型的时候就访问其中一个类型的属性或方法，比如：
```js
function getLength(something: string | number): number {
    if (something.length) {
        return something.length;
    } else {
        return something.toString().length;
    }
}

// index.ts(2,19): error TS2339: Property 'length' does not exist on type 'string | number'.
//   Property 'length' does not exist on type 'number'.
// index.ts(3,26): error TS2339: Property 'length' does not exist on type 'string | number'.
//   Property 'length' does not exist on type 'number'.
```
上例中，获取 something.length 的时候会报错。  
此时可以使用类型断言，将 something 断言成 string：
```typescript
function getLength(something: string | number): number {
    if ((<string>something).length) {
        return (<string>something).length;
    } else {
        return something.toString().length;
    }
}

// 或

function getLength(something: string | number): number {
    if ((something as string).length) {
        return (something as string).length;
    } else {
        return something.toString().length;
    }
}
```

类型断言不是类型转换，断言成一个联合类型中不存在的类型是不允许的：
```typescript
function toBoolean(something: string | number): boolean {
    return <boolean>something;
}

// index.ts(2,10): error TS2352: Type 'string | number' cannot be converted to type 'boolean'.
//   Type 'number' is not comparable to type 'boolean'.
```
